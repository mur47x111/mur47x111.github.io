<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta charset="utf-8">
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="-1" />
<!--
   Note to customizers: the body of the webrev is IDed as SUNWwebrev
   to allow easy overriding by users of webrev via the userContent.css
   mechanism available in some browsers.

   For example, to have all "removed" information be red instead of
   brown, set a rule in your userContent.css file like:

       body#SUNWwebrev span.removed { color: red ! important; }
-->
<style type="text/css" media="screen">
body {
    background-color: #eeeeee;
}
hr {
    border: none 0;
    border-top: 1px solid #aaa;
    height: 1px;
}
div.summary {
    font-size: .8em;
    border-bottom: 1px solid #aaa;
    padding-left: 1em;
    padding-right: 1em;
}
div.summary h2 {
    margin-bottom: 0.3em;
}
div.summary table th {
    text-align: right;
    vertical-align: top;
    white-space: nowrap;
}
span.lineschanged {
    font-size: 0.7em;
}
span.oldmarker {
    color: red;
    font-size: large;
    font-weight: bold;
}
span.newmarker {
    color: green;
    font-size: large;
    font-weight: bold;
}
span.removed {
    color: brown;
}
span.changed {
    color: blue;
}
span.new {
    color: blue;
    font-weight: bold;
}
a.print { font-size: x-small; }

</style>

<style type="text/css" media="print">
pre { font-size: 0.8em; font-family: courier, monospace; }
span.removed { color: #444; font-style: italic }
span.changed { font-weight: bold; }
span.new { font-weight: bold; }
span.newmarker { font-size: 1.2em; font-weight: bold; }
span.oldmarker { font-size: 1.2em; font-weight: bold; }
a.print {display: none}
hr { border: none 0; border-top: 1px solid #aaa; height: 1px; }
</style>

    <script type="text/javascript" src="../../../../ancnav.js"></script>
    </head>
    <body id="SUNWwebrev" onkeypress="keypress(event);">
    <a name="0"></a>
    <pre></pre><hr></hr>
<pre>
   1 /*
   2  * Copyright (c) 2015, 2020, Oracle and/or its affiliates. All rights reserved.
   3  * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
   4  *
   5  * This code is free software; you can redistribute it and/or modify it
   6  * under the terms of the GNU General Public License version 2 only, as
   7  * published by the Free Software Foundation.
   8  *
   9  * This code is distributed in the hope that it will be useful, but WITHOUT
  10  * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  11  * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
  12  * version 2 for more details (a copy is included in the LICENSE file that
  13  * accompanied this code).
  14  *
  15  * You should have received a copy of the GNU General Public License version
  16  * 2 along with this work; if not, write to the Free Software Foundation,
  17  * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
  18  *
  19  * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
  20  * or visit www.oracle.com if you need additional information or have any
  21  * questions.
  22  *
  23  */
  24 
  25 #include "precompiled.hpp"
  26 #include "compiler/compileBroker.hpp"
  27 #include "gc/shared/collectedHeap.hpp"
  28 #include "jvmci/jvmciCodeInstaller.hpp"
  29 #include "jvmci/jvmciCompilerToVM.hpp"
  30 #include "jvmci/jvmciRuntime.hpp"
  31 #include "jvmci/vmStructs_compiler_runtime.hpp"
  32 #include "jvmci/vmStructs_jvmci.hpp"
  33 #include "oops/objArrayKlass.hpp"
  34 #include "runtime/sharedRuntime.hpp"
  35 #if INCLUDE_G1GC
  36 #include "gc/g1/g1CardTable.hpp"
  37 #include "gc/g1/heapRegion.hpp"
  38 #include "gc/g1/g1ThreadLocalData.hpp"
  39 #endif
  40 
  41 #define VM_STRUCTS(nonstatic_field, static_field, unchecked_nonstatic_field, volatile_nonstatic_field) \
  42   static_field(CompilerToVM::Data,             Klass_vtable_start_offset,              int)                                          \
  43   static_field(CompilerToVM::Data,             Klass_vtable_length_offset,             int)                                          \
  44                                                                                                                                      \
  45   static_field(CompilerToVM::Data,             Method_extra_stack_entries,             int)                                          \
  46                                                                                                                                      \
  47   static_field(CompilerToVM::Data,             SharedRuntime_ic_miss_stub,             address)                                      \
  48   static_field(CompilerToVM::Data,             SharedRuntime_handle_wrong_method_stub, address)                                      \
  49   static_field(CompilerToVM::Data,             SharedRuntime_deopt_blob_unpack,        address)                                      \
  50   static_field(CompilerToVM::Data,             SharedRuntime_deopt_blob_unpack_with_exception_in_tls, address)                       \
  51   static_field(CompilerToVM::Data,             SharedRuntime_deopt_blob_uncommon_trap, address)                                      \
  52                                                                                                                                      \
  53   static_field(CompilerToVM::Data,             ThreadLocalAllocBuffer_alignment_reserve, size_t)                                     \
  54                                                                                                                                      \
  55   static_field(CompilerToVM::Data,             Universe_collectedHeap,                 CollectedHeap*)                               \
  56   static_field(CompilerToVM::Data,             Universe_base_vtable_size,              int)                                          \
  57   static_field(CompilerToVM::Data,             Universe_narrow_oop_base,               address)                                      \
  58   static_field(CompilerToVM::Data,             Universe_narrow_oop_shift,              int)                                          \
  59   static_field(CompilerToVM::Data,             Universe_narrow_klass_base,             address)                                      \
  60   static_field(CompilerToVM::Data,             Universe_narrow_klass_shift,            int)                                          \
  61   static_field(CompilerToVM::Data,             Universe_non_oop_bits,                  void*)                                        \
  62   static_field(CompilerToVM::Data,             Universe_verify_oop_mask,               uintptr_t)                                    \
  63   static_field(CompilerToVM::Data,             Universe_verify_oop_bits,               uintptr_t)                                    \
  64                                                                                                                                      \
  65   static_field(CompilerToVM::Data,             _supports_inline_contig_alloc,          bool)                                         \
  66   static_field(CompilerToVM::Data,             _heap_end_addr,                         HeapWord**)                                   \
  67   static_field(CompilerToVM::Data,             _heap_top_addr,                         HeapWord* volatile*)                          \
  68                                                                                                                                      \
  69   static_field(CompilerToVM::Data,             _max_oop_map_stack_offset,              int)                                          \
  70   static_field(CompilerToVM::Data,             _fields_annotations_base_offset,        int)                                          \
  71                                                                                                                                      \
  72   static_field(CompilerToVM::Data,             cardtable_start_address,                jbyte*)                                       \
  73   static_field(CompilerToVM::Data,             cardtable_shift,                        int)                                          \
  74                                                                                                                                      \
  75   static_field(CompilerToVM::Data,             vm_page_size,                           int)                                          \
  76                                                                                                                                      \
  77   static_field(CompilerToVM::Data,             sizeof_vtableEntry,                     int)                                          \
  78   static_field(CompilerToVM::Data,             sizeof_ExceptionTableElement,           int)                                          \
  79   static_field(CompilerToVM::Data,             sizeof_LocalVariableTableElement,       int)                                          \
  80   static_field(CompilerToVM::Data,             sizeof_ConstantPool,                    int)                                          \
  81   static_field(CompilerToVM::Data,             sizeof_narrowKlass,                     int)                                          \
  82   static_field(CompilerToVM::Data,             sizeof_arrayOopDesc,                    int)                                          \
  83   static_field(CompilerToVM::Data,             sizeof_BasicLock,                       int)                                          \
  84                                                                                                                                      \
  85   static_field(CompilerToVM::Data,             dsin,                                   address)                                      \
  86   static_field(CompilerToVM::Data,             dcos,                                   address)                                      \
  87   static_field(CompilerToVM::Data,             dtan,                                   address)                                      \
  88   static_field(CompilerToVM::Data,             dexp,                                   address)                                      \
  89   static_field(CompilerToVM::Data,             dlog,                                   address)                                      \
  90   static_field(CompilerToVM::Data,             dlog10,                                 address)                                      \
  91   static_field(CompilerToVM::Data,             dpow,                                   address)                                      \
  92                                                                                                                                      \
  93   static_field(CompilerToVM::Data,             symbol_init,                            address)                                      \
  94   static_field(CompilerToVM::Data,             symbol_clinit,                          address)                                      \
  95                                                                                                                                      \
  96   static_field(Abstract_VM_Version,            _features,                              uint64_t)                                     \
  97                                                                                                                                      \
  98   nonstatic_field(Annotations,                 _fields_annotations,                    Array&lt;AnnotationArray*&gt;*)                     \
  99                                                                                                                                      \
 100   nonstatic_field(Array&lt;int&gt;,                  _length,                                int)                                          \
 101   unchecked_nonstatic_field(Array&lt;u1&gt;,         _data,                                  sizeof(u1))                                   \
 102   unchecked_nonstatic_field(Array&lt;u2&gt;,         _data,                                  sizeof(u2))                                   \
 103   nonstatic_field(Array&lt;Klass*&gt;,               _length,                                int)                                          \
 104   nonstatic_field(Array&lt;Klass*&gt;,               _data[0],                               Klass*)                                       \
 105                                                                                                                                      \
 106   volatile_nonstatic_field(BasicLock,          _displaced_header,                      markOop)                                      \
 107                                                                                                                                      \
 108   static_field(CodeCache,                      _low_bound,                             address)                                      \
 109   static_field(CodeCache,                      _high_bound,                            address)                                      \
 110                                                                                                                                      \
 111   nonstatic_field(CollectedHeap,               _total_collections,                     unsigned int)                                 \
 112                                                                                                                                      \
 113   nonstatic_field(CompileTask,                 _num_inlined_bytecodes,                 int)                                          \
 114                                                                                                                                      \
 115   nonstatic_field(ConstantPool,                _tags,                                  Array&lt;u1&gt;*)                                   \
 116   nonstatic_field(ConstantPool,                _pool_holder,                           InstanceKlass*)                               \
 117   nonstatic_field(ConstantPool,                _length,                                int)                                          \
 118   nonstatic_field(ConstantPool,                _flags,                                 int)                                          \
 119                                                                                                                                      \
 120   nonstatic_field(ConstMethod,                 _constants,                             ConstantPool*)                                \
 121   nonstatic_field(ConstMethod,                 _flags,                                 u2)                                           \
 122   nonstatic_field(ConstMethod,                 _code_size,                             u2)                                           \
 123   nonstatic_field(ConstMethod,                 _name_index,                            u2)                                           \
 124   nonstatic_field(ConstMethod,                 _signature_index,                       u2)                                           \
 125   nonstatic_field(ConstMethod,                 _method_idnum,                          u2)                                           \
 126   nonstatic_field(ConstMethod,                 _max_stack,                             u2)                                           \
 127   nonstatic_field(ConstMethod,                 _max_locals,                            u2)                                           \
 128                                                                                                                                      \
 129   nonstatic_field(DataLayout,                  _header._struct._tag,                   u1)                                           \
 130   nonstatic_field(DataLayout,                  _header._struct._flags,                 u1)                                           \
 131   nonstatic_field(DataLayout,                  _header._struct._bci,                   u2)                                           \
 132   nonstatic_field(DataLayout,                  _header._struct._traps,                 u4)                                           \
 133   nonstatic_field(DataLayout,                  _cells[0],                              intptr_t)                                     \
 134                                                                                                                                      \
 135   nonstatic_field(Deoptimization::UnrollBlock, _size_of_deoptimized_frame,             int)                                          \
 136   nonstatic_field(Deoptimization::UnrollBlock, _caller_adjustment,                     int)                                          \
 137   nonstatic_field(Deoptimization::UnrollBlock, _number_of_frames,                      int)                                          \
 138   nonstatic_field(Deoptimization::UnrollBlock, _total_frame_sizes,                     int)                                          \
 139   nonstatic_field(Deoptimization::UnrollBlock, _frame_sizes,                           intptr_t*)                                    \
 140   nonstatic_field(Deoptimization::UnrollBlock, _frame_pcs,                             address*)                                     \
 141   nonstatic_field(Deoptimization::UnrollBlock, _initial_info,                          intptr_t)                                     \
 142   nonstatic_field(Deoptimization::UnrollBlock, _unpack_kind,                           int)                                          \
 143                                                                                                                                      \
 144   nonstatic_field(ExceptionTableElement,       start_pc,                                      u2)                                    \
 145   nonstatic_field(ExceptionTableElement,       end_pc,                                        u2)                                    \
 146   nonstatic_field(ExceptionTableElement,       handler_pc,                                    u2)                                    \
 147   nonstatic_field(ExceptionTableElement,       catch_type_index,                              u2)                                    \
 148                                                                                                                                      \
 149   nonstatic_field(JVMFlag,                     _type,                                         const char*)                           \
 150   nonstatic_field(JVMFlag,                     _name,                                         const char*)                           \
 151   unchecked_nonstatic_field(JVMFlag,           _addr,                                         sizeof(void*))                         \
 152   nonstatic_field(JVMFlag,                     _flags,                                        JVMFlag::Flags)                        \
 153   static_field(JVMFlag,                        flags,                                         JVMFlag*)                              \
 154                                                                                                                                      \
 155   nonstatic_field(InstanceKlass,               _fields,                                       Array&lt;u2&gt;*)                            \
 156   nonstatic_field(InstanceKlass,               _constants,                                    ConstantPool*)                         \
 157   nonstatic_field(InstanceKlass,               _source_file_name_index,                       u2)                                    \
 158   nonstatic_field(InstanceKlass,               _init_state,                                   u1)                                    \
 159   nonstatic_field(InstanceKlass,               _init_thread,                                  Thread*)                               \
 160   nonstatic_field(InstanceKlass,               _misc_flags,                                   u2)                                    \
 161   nonstatic_field(InstanceKlass,               _annotations,                                  Annotations*)                          \
 162                                                                                                                                      \
 163   volatile_nonstatic_field(JavaFrameAnchor,    _last_Java_sp,                                 intptr_t*)                             \
 164   volatile_nonstatic_field(JavaFrameAnchor,    _last_Java_pc,                                 address)                               \
 165                                                                                                                                      \
 166   nonstatic_field(JVMCICompileState,           _jvmti_can_hotswap_or_post_breakpoint,         jbyte)                                 \
 167   nonstatic_field(JVMCICompileState,           _jvmti_can_access_local_variables,             jbyte)                                 \
 168   nonstatic_field(JVMCICompileState,           _jvmti_can_post_on_exceptions,                 jbyte)                                 \
 169   nonstatic_field(JVMCICompileState,           _jvmti_can_pop_frame,                          jbyte)                                 \
 170                                                                                                                                      \
 171   nonstatic_field(JavaThread,                  _threadObj,                                    oop)                                   \
 172   nonstatic_field(JavaThread,                  _anchor,                                       JavaFrameAnchor)                       \
 173   nonstatic_field(JavaThread,                  _vm_result,                                    oop)                                   \
 174   volatile_nonstatic_field(JavaThread,         _exception_oop,                                oop)                                   \
 175   volatile_nonstatic_field(JavaThread,         _exception_pc,                                 address)                               \
 176   volatile_nonstatic_field(JavaThread,         _is_method_handle_return,                      int)                                   \
 177   volatile_nonstatic_field(JavaThread,         _doing_unsafe_access,                          bool)                                  \
 178   nonstatic_field(JavaThread,                  _osthread,                                     OSThread*)                             \
 179   nonstatic_field(JavaThread,                  _pending_deoptimization,                       int)                                   \
 180   nonstatic_field(JavaThread,                  _pending_failed_speculation,                   jlong)                                 \
 181   nonstatic_field(JavaThread,                  _pending_transfer_to_interpreter,              bool)                                  \
 182   nonstatic_field(JavaThread,                  _jvmci_counters,                               jlong*)                                \
 183   nonstatic_field(JavaThread,                  _should_post_on_exceptions_flag,               int)                                   \
 184   nonstatic_field(JavaThread,                  _jni_environment,                              JNIEnv)                                \
 185   nonstatic_field(JavaThread,                  _reserved_stack_activation,                    address)                               \
 186                                                                                                                                      \
 187   static_field(java_lang_Class,                _klass_offset,                                 int)                                   \
 188   static_field(java_lang_Class,                _array_klass_offset,                           int)                                   \
 189                                                                                                                                      \
 190   nonstatic_field(InvocationCounter,           _counter,                                      unsigned int)                          \
 191                                                                                                                                      \
 192   nonstatic_field(Klass,                       _secondary_super_cache,                        Klass*)                                \
 193   nonstatic_field(Klass,                       _secondary_supers,                             Array&lt;Klass*&gt;*)                        \
 194   nonstatic_field(Klass,                       _super,                                        Klass*)                                \
 195   nonstatic_field(Klass,                       _super_check_offset,                           juint)                                 \
 196   nonstatic_field(Klass,                       _subklass,                                     Klass*)                                \
 197   nonstatic_field(Klass,                       _layout_helper,                                jint)                                  \
 198   nonstatic_field(Klass,                       _name,                                         Symbol*)                               \
 199   nonstatic_field(Klass,                       _prototype_header,                             markOop)                               \
 200   nonstatic_field(Klass,                       _next_sibling,                                 Klass*)                                \
 201   nonstatic_field(Klass,                       _java_mirror,                                  OopHandle)                             \
 202   nonstatic_field(Klass,                       _modifier_flags,                               jint)                                  \
 203   nonstatic_field(Klass,                       _access_flags,                                 AccessFlags)                           \
 204   nonstatic_field(Klass,                       _class_loader_data,                            ClassLoaderData*)                      \
 205                                                                                                                                      \
 206   nonstatic_field(LocalVariableTableElement,   start_bci,                                     u2)                                    \
 207   nonstatic_field(LocalVariableTableElement,   length,                                        u2)                                    \
 208   nonstatic_field(LocalVariableTableElement,   name_cp_index,                                 u2)                                    \
 209   nonstatic_field(LocalVariableTableElement,   descriptor_cp_index,                           u2)                                    \
 210   nonstatic_field(LocalVariableTableElement,   signature_cp_index,                            u2)                                    \
 211   nonstatic_field(LocalVariableTableElement,   slot,                                          u2)                                    \
 212                                                                                                                                      \
 213   nonstatic_field(Method,                      _constMethod,                                  ConstMethod*)                          \
 214   nonstatic_field(Method,                      _method_data,                                  MethodData*)                           \
 215   nonstatic_field(Method,                      _method_counters,                              MethodCounters*)                       \
 216   nonstatic_field(Method,                      _access_flags,                                 AccessFlags)                           \
 217   nonstatic_field(Method,                      _vtable_index,                                 int)                                   \
 218   nonstatic_field(Method,                      _intrinsic_id,                                 u2)                                    \
 219   nonstatic_field(Method,                      _flags,                                        u2)                                    \
 220   volatile_nonstatic_field(Method,             _code,                                         CompiledMethod*)                       \
 221   volatile_nonstatic_field(Method,             _from_compiled_entry,                          address)                               \
 222                                                                                                                                      \
 223   nonstatic_field(MethodCounters,              _nmethod_age,                                  int)                                   \
 224   nonstatic_field(MethodCounters,              _interpreter_invocation_limit,                 int)                                   \
 225   nonstatic_field(MethodCounters,              _interpreter_backward_branch_limit,            int)                                   \
 226   nonstatic_field(MethodCounters,              _interpreter_profile_limit,                    int)                                   \
 227   nonstatic_field(MethodCounters,              _invoke_mask,                                  int)                                   \
 228   nonstatic_field(MethodCounters,              _backedge_mask,                                int)                                   \
 229   nonstatic_field(MethodCounters,              _interpreter_invocation_count,                 int)                                   \
 230   nonstatic_field(MethodCounters,              _interpreter_throwout_count,                   u2)                                    \
 231   JVMTI_ONLY(nonstatic_field(MethodCounters,   _number_of_breakpoints,                        u2))                                   \
 232   nonstatic_field(MethodCounters,              _invocation_counter,                           InvocationCounter)                     \
 233   nonstatic_field(MethodCounters,              _backedge_counter,                             InvocationCounter)                     \
 234                                                                                                                                      \
 235   nonstatic_field(MethodData,                  _size,                                         int)                                   \
 236   nonstatic_field(MethodData,                  _method,                                       Method*)                               \
 237   nonstatic_field(MethodData,                  _data_size,                                    int)                                   \
 238   nonstatic_field(MethodData,                  _data[0],                                      intptr_t)                              \
 239   nonstatic_field(MethodData,                  _parameters_type_data_di,                      int)                                   \
 240   nonstatic_field(MethodData,                  _nof_decompiles,                               uint)                                  \
 241   nonstatic_field(MethodData,                  _nof_overflow_recompiles,                      uint)                                  \
 242   nonstatic_field(MethodData,                  _nof_overflow_traps,                           uint)                                  \
 243   nonstatic_field(MethodData,                  _trap_hist._array[0],                          u1)                                    \
 244   nonstatic_field(MethodData,                  _eflags,                                       intx)                                  \
 245   nonstatic_field(MethodData,                  _arg_local,                                    intx)                                  \
 246   nonstatic_field(MethodData,                  _arg_stack,                                    intx)                                  \
 247   nonstatic_field(MethodData,                  _arg_returned,                                 intx)                                  \
 248   nonstatic_field(MethodData,                  _tenure_traps,                                 uint)                                  \
 249   nonstatic_field(MethodData,                  _invoke_mask,                                  int)                                   \
 250   nonstatic_field(MethodData,                  _backedge_mask,                                int)                                   \
 251   nonstatic_field(MethodData,                  _jvmci_ir_size,                                int)                                   \
 252                                                                                                                                      \
 253   nonstatic_field(nmethod,                     _verified_entry_point,                         address)                               \
 254   nonstatic_field(nmethod,                     _comp_level,                                   int)                                   \
 255                                                                                                                                      \
 256   nonstatic_field(ObjArrayKlass,               _element_klass,                                Klass*)                                \
 257                                                                                                                                      \
 258   unchecked_nonstatic_field(ObjectMonitor,     _owner,                                        sizeof(void *)) /* NOTE: no type */    \
 259   volatile_nonstatic_field(ObjectMonitor,      _recursions,                                   intptr_t)                              \
 260   volatile_nonstatic_field(ObjectMonitor,      _cxq,                                          ObjectWaiter*)                         \
 261   volatile_nonstatic_field(ObjectMonitor,      _EntryList,                                    ObjectWaiter*)                         \
 262   volatile_nonstatic_field(ObjectMonitor,      _succ,                                         Thread*)                               \
 263                                                                                                                                      \
 264   volatile_nonstatic_field(oopDesc,            _mark,                                         markOop)                               \
 265   volatile_nonstatic_field(oopDesc,            _metadata._klass,                              Klass*)                                \
 266                                                                                                                                      \
 267   static_field(os,                             _polling_page,                                 address)                               \
 268                                                                                                                                      \
 269   volatile_nonstatic_field(OSThread,           _interrupted,                                  jint)                                  \
 270                                                                                                                                      \
 271   static_field(StubRoutines,                _verify_oop_count,                                jint)                                  \
 272                                                                                                                                      \
 273   static_field(StubRoutines,                _throw_delayed_StackOverflowError_entry,          address)                               \
 274                                                                                                                                      \
 275   static_field(StubRoutines,                _jbyte_arraycopy,                                 address)                               \
 276   static_field(StubRoutines,                _jshort_arraycopy,                                address)                               \
 277   static_field(StubRoutines,                _jint_arraycopy,                                  address)                               \
 278   static_field(StubRoutines,                _jlong_arraycopy,                                 address)                               \
 279   static_field(StubRoutines,                _oop_arraycopy,                                   address)                               \
 280   static_field(StubRoutines,                _oop_arraycopy_uninit,                            address)                               \
 281   static_field(StubRoutines,                _jbyte_disjoint_arraycopy,                        address)                               \
 282   static_field(StubRoutines,                _jshort_disjoint_arraycopy,                       address)                               \
 283   static_field(StubRoutines,                _jint_disjoint_arraycopy,                         address)                               \
 284   static_field(StubRoutines,                _jlong_disjoint_arraycopy,                        address)                               \
 285   static_field(StubRoutines,                _oop_disjoint_arraycopy,                          address)                               \
 286   static_field(StubRoutines,                _oop_disjoint_arraycopy_uninit,                   address)                               \
 287   static_field(StubRoutines,                _arrayof_jbyte_arraycopy,                         address)                               \
 288   static_field(StubRoutines,                _arrayof_jshort_arraycopy,                        address)                               \
 289   static_field(StubRoutines,                _arrayof_jint_arraycopy,                          address)                               \
 290   static_field(StubRoutines,                _arrayof_jlong_arraycopy,                         address)                               \
 291   static_field(StubRoutines,                _arrayof_oop_arraycopy,                           address)                               \
 292   static_field(StubRoutines,                _arrayof_oop_arraycopy_uninit,                    address)                               \
 293   static_field(StubRoutines,                _arrayof_jbyte_disjoint_arraycopy,                address)                               \
 294   static_field(StubRoutines,                _arrayof_jshort_disjoint_arraycopy,               address)                               \
 295   static_field(StubRoutines,                _arrayof_jint_disjoint_arraycopy,                 address)                               \
 296   static_field(StubRoutines,                _arrayof_jlong_disjoint_arraycopy,                address)                               \
 297   static_field(StubRoutines,                _arrayof_oop_disjoint_arraycopy,                  address)                               \
 298   static_field(StubRoutines,                _arrayof_oop_disjoint_arraycopy_uninit,           address)                               \
 299   static_field(StubRoutines,                _checkcast_arraycopy,                             address)                               \
 300   static_field(StubRoutines,                _checkcast_arraycopy_uninit,                      address)                               \
 301   static_field(StubRoutines,                _unsafe_arraycopy,                                address)                               \
 302   static_field(StubRoutines,                _generic_arraycopy,                               address)                               \
 303                                                                                                                                      \
 304   static_field(StubRoutines,                _aescrypt_encryptBlock,                           address)                               \
 305   static_field(StubRoutines,                _aescrypt_decryptBlock,                           address)                               \
 306   static_field(StubRoutines,                _cipherBlockChaining_encryptAESCrypt,             address)                               \
 307   static_field(StubRoutines,                _cipherBlockChaining_decryptAESCrypt,             address)                               \
 308   static_field(StubRoutines,                _counterMode_AESCrypt,                            address)                               \
 309   static_field(StubRoutines,                _base64_encodeBlock,                              address)                               \
 310   static_field(StubRoutines,                _ghash_processBlocks,                             address)                               \
 311   static_field(StubRoutines,                _sha1_implCompress,                               address)                               \
 312   static_field(StubRoutines,                _sha1_implCompressMB,                             address)                               \
 313   static_field(StubRoutines,                _sha256_implCompress,                             address)                               \
 314   static_field(StubRoutines,                _sha256_implCompressMB,                           address)                               \
 315   static_field(StubRoutines,                _sha512_implCompress,                             address)                               \
 316   static_field(StubRoutines,                _sha512_implCompressMB,                           address)                               \
 317   static_field(StubRoutines,                _updateBytesCRC32,                                address)                               \
 318   static_field(StubRoutines,                _crc_table_adr,                                   address)                               \
 319   static_field(StubRoutines,                _crc32c_table_addr,                               address)                               \
 320   static_field(StubRoutines,                _updateBytesCRC32C,                               address)                               \
 321   static_field(StubRoutines,                _updateBytesAdler32,                              address)                               \
 322   static_field(StubRoutines,                _multiplyToLen,                                   address)                               \
 323   static_field(StubRoutines,                _squareToLen,                                     address)                               \
 324   static_field(StubRoutines,                _mulAdd,                                          address)                               \
 325   static_field(StubRoutines,                _montgomeryMultiply,                              address)                               \
 326   static_field(StubRoutines,                _montgomerySquare,                                address)                               \
 327   static_field(StubRoutines,                _vectorizedMismatch,                              address)                               \
 328                                                                                                                                      \
 329   nonstatic_field(Thread,                   _tlab,                                            ThreadLocalAllocBuffer)                \
 330   nonstatic_field(Thread,                   _allocated_bytes,                                 jlong)                                 \
 331   nonstatic_field(Thread,                   _polling_page,                                    address)                               \
 332                                                                                                                                      \
 333   nonstatic_field(ThreadLocalAllocBuffer,   _start,                                           HeapWord*)                             \
 334   nonstatic_field(ThreadLocalAllocBuffer,   _top,                                             HeapWord*)                             \
 335   nonstatic_field(ThreadLocalAllocBuffer,   _end,                                             HeapWord*)                             \
 336   nonstatic_field(ThreadLocalAllocBuffer,   _pf_top,                                          HeapWord*)                             \
 337   nonstatic_field(ThreadLocalAllocBuffer,   _desired_size,                                    size_t)                                \
 338   nonstatic_field(ThreadLocalAllocBuffer,   _refill_waste_limit,                              size_t)                                \
 339   nonstatic_field(ThreadLocalAllocBuffer,   _number_of_refills,                               unsigned)                              \
 340   nonstatic_field(ThreadLocalAllocBuffer,   _fast_refill_waste,                               unsigned)                              \
 341   nonstatic_field(ThreadLocalAllocBuffer,   _slow_allocations,                                unsigned)                              \
 342                                                                                                                                      \
 343   nonstatic_field(ThreadShadow,             _pending_exception,                               oop)                                   \
 344                                                                                                                                      \
 345   static_field(vmSymbols,                   _symbols[0],                                      Symbol*)                               \
 346                                                                                                                                      \
 347   nonstatic_field(vtableEntry,              _method,                                          Method*)                               \
 348 
 349 #define VM_TYPES(declare_type, declare_toplevel_type, declare_integer_type, declare_unsigned_integer_type) \
 350   declare_integer_type(bool)                                              \
 351   declare_unsigned_integer_type(size_t)                                   \
 352   declare_integer_type(intx)                                              \
 353   declare_unsigned_integer_type(uintx)                                    \
 354                                                                           \
 355   declare_toplevel_type(BasicLock)                                        \
 356   declare_toplevel_type(CompilerToVM)                                     \
 357   declare_toplevel_type(ExceptionTableElement)                            \
 358   declare_toplevel_type(JVMFlag)                                          \
 359   declare_toplevel_type(JVMFlag*)                                         \
 360   declare_toplevel_type(InvocationCounter)                                \
 361   declare_toplevel_type(JVMCICompileState)                                \
 362   declare_toplevel_type(JVMCIEnv)                                         \
 363   declare_toplevel_type(LocalVariableTableElement)                        \
 364   declare_toplevel_type(narrowKlass)                                      \
 365   declare_toplevel_type(ObjectWaiter)                                     \
 366   declare_toplevel_type(Symbol*)                                          \
 367   declare_toplevel_type(vtableEntry)                                      \
 368                                                                           \
 369   declare_toplevel_type(oopDesc)                                          \
 370     declare_type(arrayOopDesc, oopDesc)                                   \
 371                                                                           \
 372   declare_toplevel_type(MetaspaceObj)                                     \
 373     declare_type(Metadata, MetaspaceObj)                                  \
 374     declare_type(Klass, Metadata)                                         \
 375       declare_type(InstanceKlass, Klass)                                  \
 376     declare_type(ConstantPool, Metadata)                                  \
 377 
 378 #define VM_INT_CONSTANTS(declare_constant, declare_constant_with_value, declare_preprocessor_constant) \
 379   declare_preprocessor_constant("ASSERT", DEBUG_ONLY(1) NOT_DEBUG(0))     \
 380   declare_preprocessor_constant("FIELDINFO_TAG_SIZE", FIELDINFO_TAG_SIZE) \
 381   declare_preprocessor_constant("STACK_BIAS", STACK_BIAS)                 \
 382                                                                           \
 383   declare_constant(CompLevel_none)                                        \
 384   declare_constant(CompLevel_simple)                                      \
 385   declare_constant(CompLevel_limited_profile)                             \
 386   declare_constant(CompLevel_full_profile)                                \
 387   declare_constant(CompLevel_full_optimization)                           \
 388   declare_constant(HeapWordSize)                                          \
 389   declare_constant(InvocationEntryBci)                                    \
 390   declare_constant(LogKlassAlignmentInBytes)                              \
 391                                                                           \
 392   declare_constant(JVM_ACC_WRITTEN_FLAGS)                                 \
 393   declare_constant(JVM_ACC_MONITOR_MATCH)                                 \
 394   declare_constant(JVM_ACC_HAS_MONITOR_BYTECODES)                         \
 395   declare_constant(JVM_ACC_HAS_FINALIZER)                                 \
 396   declare_constant(JVM_ACC_IS_CLONEABLE_FAST)                             \
 397   declare_constant(JVM_ACC_FIELD_INTERNAL)                                \
 398   declare_constant(JVM_ACC_FIELD_STABLE)                                  \
 399   declare_constant(JVM_ACC_FIELD_HAS_GENERIC_SIGNATURE)                   \
 400   declare_preprocessor_constant("JVM_ACC_VARARGS", JVM_ACC_VARARGS)       \
 401   declare_preprocessor_constant("JVM_ACC_BRIDGE", JVM_ACC_BRIDGE)         \
 402   declare_preprocessor_constant("JVM_ACC_ANNOTATION", JVM_ACC_ANNOTATION) \
 403   declare_preprocessor_constant("JVM_ACC_ENUM", JVM_ACC_ENUM)             \
 404   declare_preprocessor_constant("JVM_ACC_SYNTHETIC", JVM_ACC_SYNTHETIC)   \
 405   declare_preprocessor_constant("JVM_ACC_INTERFACE", JVM_ACC_INTERFACE)   \
 406                                                                           \
 407   declare_constant(JVM_CONSTANT_Utf8)                                     \
 408   declare_constant(JVM_CONSTANT_Unicode)                                  \
 409   declare_constant(JVM_CONSTANT_Integer)                                  \
 410   declare_constant(JVM_CONSTANT_Float)                                    \
 411   declare_constant(JVM_CONSTANT_Long)                                     \
 412   declare_constant(JVM_CONSTANT_Double)                                   \
 413   declare_constant(JVM_CONSTANT_Class)                                    \
 414   declare_constant(JVM_CONSTANT_String)                                   \
 415   declare_constant(JVM_CONSTANT_Fieldref)                                 \
 416   declare_constant(JVM_CONSTANT_Methodref)                                \
 417   declare_constant(JVM_CONSTANT_InterfaceMethodref)                       \
 418   declare_constant(JVM_CONSTANT_NameAndType)                              \
 419   declare_constant(JVM_CONSTANT_MethodHandle)                             \
 420   declare_constant(JVM_CONSTANT_MethodType)                               \
 421   declare_constant(JVM_CONSTANT_InvokeDynamic)                            \
 422   declare_constant(JVM_CONSTANT_ExternalMax)                              \
 423                                                                           \
 424   declare_constant(JVM_CONSTANT_Invalid)                                  \
 425   declare_constant(JVM_CONSTANT_InternalMin)                              \
 426   declare_constant(JVM_CONSTANT_UnresolvedClass)                          \
 427   declare_constant(JVM_CONSTANT_ClassIndex)                               \
 428   declare_constant(JVM_CONSTANT_StringIndex)                              \
 429   declare_constant(JVM_CONSTANT_UnresolvedClassInError)                   \
 430   declare_constant(JVM_CONSTANT_MethodHandleInError)                      \
 431   declare_constant(JVM_CONSTANT_MethodTypeInError)                        \
 432   declare_constant(JVM_CONSTANT_DynamicInError)                           \
 433   declare_constant(JVM_CONSTANT_InternalMax)                              \
 434                                                                           \
 435   declare_constant(ArrayData::array_len_off_set)                          \
 436   declare_constant(ArrayData::array_start_off_set)                        \
 437                                                                           \
 438   declare_constant(BitData::exception_seen_flag)                          \
 439   declare_constant(BitData::null_seen_flag)                               \
 440   declare_constant(BranchData::not_taken_off_set)                         \
 441                                                                           \
 442   declare_constant_with_value("CardTable::dirty_card", CardTable::dirty_card_val()) \
 443                                                                           \
 444   declare_constant(CodeInstaller::VERIFIED_ENTRY)                         \
 445   declare_constant(CodeInstaller::UNVERIFIED_ENTRY)                       \
 446   declare_constant(CodeInstaller::OSR_ENTRY)                              \
 447   declare_constant(CodeInstaller::EXCEPTION_HANDLER_ENTRY)                \
 448   declare_constant(CodeInstaller::DEOPT_HANDLER_ENTRY)                    \
 449   declare_constant(CodeInstaller::FRAME_COMPLETE)                         \
 450   declare_constant(CodeInstaller::INVOKEINTERFACE)                        \
 451   declare_constant(CodeInstaller::INVOKEVIRTUAL)                          \
 452   declare_constant(CodeInstaller::INVOKESTATIC)                           \
 453   declare_constant(CodeInstaller::INVOKESPECIAL)                          \
 454   declare_constant(CodeInstaller::INLINE_INVOKE)                          \
 455   declare_constant(CodeInstaller::POLL_NEAR)                              \
 456   declare_constant(CodeInstaller::POLL_RETURN_NEAR)                       \
 457   declare_constant(CodeInstaller::POLL_FAR)                               \
 458   declare_constant(CodeInstaller::POLL_RETURN_FAR)                        \
 459   declare_constant(CodeInstaller::CARD_TABLE_SHIFT)                       \
 460   declare_constant(CodeInstaller::CARD_TABLE_ADDRESS)                     \
 461   declare_constant(CodeInstaller::HEAP_TOP_ADDRESS)                       \
 462   declare_constant(CodeInstaller::HEAP_END_ADDRESS)                       \
 463   declare_constant(CodeInstaller::NARROW_KLASS_BASE_ADDRESS)              \
 464   declare_constant(CodeInstaller::NARROW_OOP_BASE_ADDRESS)                \
 465   declare_constant(CodeInstaller::CRC_TABLE_ADDRESS)                      \
 466   declare_constant(CodeInstaller::LOG_OF_HEAP_REGION_GRAIN_BYTES)         \
 467   declare_constant(CodeInstaller::INLINE_CONTIGUOUS_ALLOCATION_SUPPORTED) \
 468   declare_constant(CodeInstaller::INVOKE_INVALID)                         \
 469                                                                           \
 470   declare_constant(ConstantPool::CPCACHE_INDEX_TAG)                       \
 471   declare_constant(ConstantPool::_has_dynamic_constant)                   \
 472                                                                           \
 473   declare_constant(ConstMethod::_has_linenumber_table)                    \
 474   declare_constant(ConstMethod::_has_localvariable_table)                 \
 475   declare_constant(ConstMethod::_has_exception_table)                     \
 476   declare_constant(ConstMethod::_has_method_annotations)                  \
 477   declare_constant(ConstMethod::_has_parameter_annotations)               \
 478                                                                           \
 479   declare_constant(CounterData::count_off)                                \
 480                                                                           \
 481   declare_constant(DataLayout::cell_size)                                 \
 482   declare_constant(DataLayout::no_tag)                                    \
 483   declare_constant(DataLayout::bit_data_tag)                              \
 484   declare_constant(DataLayout::counter_data_tag)                          \
 485   declare_constant(DataLayout::jump_data_tag)                             \
 486   declare_constant(DataLayout::receiver_type_data_tag)                    \
 487   declare_constant(DataLayout::virtual_call_data_tag)                     \
 488   declare_constant(DataLayout::ret_data_tag)                              \
 489   declare_constant(DataLayout::branch_data_tag)                           \
 490   declare_constant(DataLayout::multi_branch_data_tag)                     \
 491   declare_constant(DataLayout::arg_info_data_tag)                         \
 492   declare_constant(DataLayout::call_type_data_tag)                        \
 493   declare_constant(DataLayout::virtual_call_type_data_tag)                \
 494   declare_constant(DataLayout::parameters_type_data_tag)                  \
 495   declare_constant(DataLayout::speculative_trap_data_tag)                 \
 496                                                                           \
 497   declare_constant(Deoptimization::Unpack_deopt)                          \
 498   declare_constant(Deoptimization::Unpack_exception)                      \
 499   declare_constant(Deoptimization::Unpack_uncommon_trap)                  \
 500   declare_constant(Deoptimization::Unpack_reexecute)                      \
 501                                                                           \
 502   declare_constant(Deoptimization::_action_bits)                          \
 503   declare_constant(Deoptimization::_reason_bits)                          \
 504   declare_constant(Deoptimization::_debug_id_bits)                        \
 505   declare_constant(Deoptimization::_action_shift)                         \
 506   declare_constant(Deoptimization::_reason_shift)                         \
 507   declare_constant(Deoptimization::_debug_id_shift)                       \
 508                                                                           \
 509   declare_constant(Deoptimization::Action_none)                           \
 510   declare_constant(Deoptimization::Action_maybe_recompile)                \
 511   declare_constant(Deoptimization::Action_reinterpret)                    \
 512   declare_constant(Deoptimization::Action_make_not_entrant)               \
 513   declare_constant(Deoptimization::Action_make_not_compilable)            \
 514                                                                           \
 515   declare_constant(Deoptimization::Reason_none)                           \
 516   declare_constant(Deoptimization::Reason_null_check)                     \
 517   declare_constant(Deoptimization::Reason_range_check)                    \
 518   declare_constant(Deoptimization::Reason_class_check)                    \
 519   declare_constant(Deoptimization::Reason_array_check)                    \
 520   declare_constant(Deoptimization::Reason_unreached0)                     \
 521   declare_constant(Deoptimization::Reason_constraint)                     \
 522   declare_constant(Deoptimization::Reason_div0_check)                     \
 523   declare_constant(Deoptimization::Reason_loop_limit_check)               \
 524   declare_constant(Deoptimization::Reason_type_checked_inlining)          \
 525   declare_constant(Deoptimization::Reason_optimized_type_check)           \
 526   declare_constant(Deoptimization::Reason_aliasing)                       \
 527   declare_constant(Deoptimization::Reason_transfer_to_interpreter)        \
 528   declare_constant(Deoptimization::Reason_not_compiled_exception_handler) \
 529   declare_constant(Deoptimization::Reason_unresolved)                     \
 530   declare_constant(Deoptimization::Reason_jsr_mismatch)                   \
 531   declare_constant(Deoptimization::Reason_LIMIT)                          \
 532   declare_constant(Deoptimization::_support_large_access_byte_array_virtualization)               \
 533                                                                           \
 534   declare_constant(FieldInfo::access_flags_offset)                        \
 535   declare_constant(FieldInfo::name_index_offset)                          \
 536   declare_constant(FieldInfo::signature_index_offset)                     \
 537   declare_constant(FieldInfo::initval_index_offset)                       \
 538   declare_constant(FieldInfo::low_packed_offset)                          \
 539   declare_constant(FieldInfo::high_packed_offset)                         \
 540   declare_constant(FieldInfo::field_slots)                                \
 541                                                                           \
 542   declare_constant(InstanceKlass::linked)                                 \
<a name="1" id="anc1"></a>
 543   declare_constant(InstanceKlass::fully_initialized)                      \
 544   declare_constant(InstanceKlass::_misc_is_anonymous)                     \
 545                                                                           \
 546   declare_constant(JumpData::taken_off_set)                               \
 547   declare_constant(JumpData::displacement_off_set)                        \
 548                                                                           \
 549   declare_preprocessor_constant("JVMCIEnv::ok",                   JVMCI::ok)                      \
 550   declare_preprocessor_constant("JVMCIEnv::dependencies_failed",  JVMCI::dependencies_failed)     \
 551   declare_preprocessor_constant("JVMCIEnv::dependencies_invalid", JVMCI::dependencies_invalid)    \
 552   declare_preprocessor_constant("JVMCIEnv::cache_full",           JVMCI::cache_full)              \
 553   declare_preprocessor_constant("JVMCIEnv::code_too_large",       JVMCI::code_too_large)          \
 554   declare_constant(JVMCIRuntime::none)                                    \
 555   declare_constant(JVMCIRuntime::by_holder)                               \
 556   declare_constant(JVMCIRuntime::by_full_signature)                       \
 557                                                                           \
 558   declare_constant(Klass::_lh_neutral_value)                              \
 559   declare_constant(Klass::_lh_instance_slow_path_bit)                     \
 560   declare_constant(Klass::_lh_log2_element_size_shift)                    \
 561   declare_constant(Klass::_lh_log2_element_size_mask)                     \
 562   declare_constant(Klass::_lh_element_type_shift)                         \
 563   declare_constant(Klass::_lh_element_type_mask)                          \
 564   declare_constant(Klass::_lh_header_size_shift)                          \
 565   declare_constant(Klass::_lh_header_size_mask)                           \
 566   declare_constant(Klass::_lh_array_tag_shift)                            \
 567   declare_constant(Klass::_lh_array_tag_type_value)                       \
 568   declare_constant(Klass::_lh_array_tag_obj_value)                        \
 569                                                                           \
 570   declare_constant(markOopDesc::no_hash)                                  \
 571                                                                           \
 572   declare_constant(Method::_caller_sensitive)                             \
 573   declare_constant(Method::_force_inline)                                 \
 574   declare_constant(Method::_dont_inline)                                  \
 575   declare_constant(Method::_hidden)                                       \
 576   declare_constant(Method::_intrinsic_candidate)                          \
 577   declare_constant(Method::_reserved_stack_access)                        \
 578                                                                           \
 579   declare_constant(Method::nonvirtual_vtable_index)                       \
 580   declare_constant(Method::invalid_vtable_index)                          \
 581                                                                           \
 582   declare_constant(MultiBranchData::per_case_cell_count)                  \
 583                                                                           \
 584   declare_constant(ReceiverTypeData::nonprofiled_count_off_set)           \
 585   declare_constant(ReceiverTypeData::receiver_type_row_cell_count)        \
 586   declare_constant(ReceiverTypeData::receiver0_offset)                    \
 587   declare_constant(ReceiverTypeData::count0_offset)                       \
 588                                                                           \
 589   declare_constant(vmIntrinsics::_invokeBasic)                            \
 590   declare_constant(vmIntrinsics::_linkToVirtual)                          \
 591   declare_constant(vmIntrinsics::_linkToStatic)                           \
 592   declare_constant(vmIntrinsics::_linkToSpecial)                          \
 593   declare_constant(vmIntrinsics::_linkToInterface)                        \
 594                                                                           \
 595   declare_constant(vmSymbols::FIRST_SID)                                  \
 596   declare_constant(vmSymbols::SID_LIMIT)                                  \
 597 
 598 #define VM_LONG_CONSTANTS(declare_constant, declare_preprocessor_constant) \
 599   declare_constant(InvocationCounter::count_increment)                    \
 600   declare_constant(InvocationCounter::count_shift)                        \
 601                                                                           \
 602   declare_constant(markOopDesc::hash_shift)                               \
 603   declare_constant(markOopDesc::monitor_value)                            \
 604                                                                           \
 605   declare_constant(markOopDesc::biased_lock_mask_in_place)                \
 606   declare_constant(markOopDesc::age_mask_in_place)                        \
 607   declare_constant(markOopDesc::epoch_mask_in_place)                      \
 608   declare_constant(markOopDesc::hash_mask)                                \
 609   declare_constant(markOopDesc::hash_mask_in_place)                       \
 610                                                                           \
 611   declare_constant(markOopDesc::unlocked_value)                           \
 612   declare_constant(markOopDesc::biased_lock_pattern)                      \
 613                                                                           \
 614   declare_constant(markOopDesc::no_hash_in_place)                         \
 615   declare_constant(markOopDesc::no_lock_in_place)                         \
 616 
 617 #define VM_ADDRESSES(declare_address, declare_preprocessor_address, declare_function) \
 618   declare_function(SharedRuntime::register_finalizer)                     \
 619   declare_function(SharedRuntime::exception_handler_for_return_address)   \
 620   declare_function(SharedRuntime::OSR_migration_end)                      \
 621   declare_function(SharedRuntime::enable_stack_reserved_zone)             \
 622   declare_function(SharedRuntime::frem)                                   \
 623   declare_function(SharedRuntime::drem)                                   \
 624                                                                           \
 625   declare_function(os::dll_load)                                          \
 626   declare_function(os::dll_lookup)                                        \
 627   declare_function(os::javaTimeMillis)                                    \
 628   declare_function(os::javaTimeNanos)                                     \
 629                                                                           \
 630   declare_function(Deoptimization::fetch_unroll_info)                     \
 631   declare_function(Deoptimization::uncommon_trap)                         \
 632   declare_function(Deoptimization::unpack_frames)                         \
 633                                                                           \
 634   declare_function(JVMCIRuntime::new_instance) \
 635   declare_function(JVMCIRuntime::new_array) \
 636   declare_function(JVMCIRuntime::new_multi_array) \
 637   declare_function(JVMCIRuntime::dynamic_new_array) \
 638   declare_function(JVMCIRuntime::dynamic_new_instance) \
 639   \
 640   declare_function(JVMCIRuntime::new_instance_or_null) \
 641   declare_function(JVMCIRuntime::new_array_or_null) \
 642   declare_function(JVMCIRuntime::new_multi_array_or_null) \
 643   declare_function(JVMCIRuntime::dynamic_new_array_or_null) \
 644   declare_function(JVMCIRuntime::dynamic_new_instance_or_null) \
 645   \
 646   declare_function(JVMCIRuntime::thread_is_interrupted) \
 647   declare_function(JVMCIRuntime::vm_message) \
 648   declare_function(JVMCIRuntime::identity_hash_code) \
 649   declare_function(JVMCIRuntime::exception_handler_for_pc) \
 650   declare_function(JVMCIRuntime::monitorenter) \
 651   declare_function(JVMCIRuntime::monitorexit) \
 652   declare_function(JVMCIRuntime::object_notify) \
 653   declare_function(JVMCIRuntime::object_notifyAll) \
 654   declare_function(JVMCIRuntime::throw_and_post_jvmti_exception) \
 655   declare_function(JVMCIRuntime::throw_klass_external_name_exception) \
 656   declare_function(JVMCIRuntime::throw_class_cast_exception) \
 657   declare_function(JVMCIRuntime::log_primitive) \
 658   declare_function(JVMCIRuntime::log_object) \
 659   declare_function(JVMCIRuntime::log_printf) \
 660   declare_function(JVMCIRuntime::vm_error) \
 661   declare_function(JVMCIRuntime::load_and_clear_exception) \
 662   G1GC_ONLY(declare_function(JVMCIRuntime::write_barrier_pre)) \
 663   G1GC_ONLY(declare_function(JVMCIRuntime::write_barrier_post)) \
 664   declare_function(JVMCIRuntime::validate_object) \
 665   \
 666   declare_function(JVMCIRuntime::test_deoptimize_call_int)
 667 
 668 
 669 #if INCLUDE_G1GC
 670 
 671 #define VM_STRUCTS_JVMCI_G1GC(nonstatic_field, static_field) \
 672   static_field(HeapRegion, LogOfHRGrainBytes, int)
 673 
 674 #define VM_INT_CONSTANTS_JVMCI_G1GC(declare_constant, declare_constant_with_value, declare_preprocessor_constant) \
 675   declare_constant_with_value("G1CardTable::g1_young_gen", G1CardTable::g1_young_card_val()) \
 676   declare_constant_with_value("G1ThreadLocalData::satb_mark_queue_active_offset", in_bytes(G1ThreadLocalData::satb_mark_queue_active_offset())) \
 677   declare_constant_with_value("G1ThreadLocalData::satb_mark_queue_index_offset", in_bytes(G1ThreadLocalData::satb_mark_queue_index_offset())) \
 678   declare_constant_with_value("G1ThreadLocalData::satb_mark_queue_buffer_offset", in_bytes(G1ThreadLocalData::satb_mark_queue_buffer_offset())) \
 679   declare_constant_with_value("G1ThreadLocalData::dirty_card_queue_index_offset", in_bytes(G1ThreadLocalData::dirty_card_queue_index_offset())) \
 680   declare_constant_with_value("G1ThreadLocalData::dirty_card_queue_buffer_offset", in_bytes(G1ThreadLocalData::dirty_card_queue_buffer_offset()))
 681 
 682 #endif // INCLUDE_G1GC
 683 
 684 
 685 #ifdef LINUX
 686 
 687 #define VM_ADDRESSES_OS(declare_address, declare_preprocessor_address, declare_function) \
 688   declare_preprocessor_address("RTLD_DEFAULT", RTLD_DEFAULT)
 689 
 690 #endif
 691 
 692 
 693 #ifdef BSD
 694 
 695 #define VM_ADDRESSES_OS(declare_address, declare_preprocessor_address, declare_function) \
 696   declare_preprocessor_address("RTLD_DEFAULT", RTLD_DEFAULT)
 697 
 698 #endif
 699 
 700 #ifdef AARCH64
 701 
 702 #define VM_STRUCTS_CPU(nonstatic_field, static_field, unchecked_nonstatic_field, volatile_nonstatic_field, nonproduct_nonstatic_field, c2_nonstatic_field, unchecked_c1_static_field, unchecked_c2_static_field) \
 703   static_field(VM_Version, _psr_info.dczid_el0, uint32_t)               \
 704   volatile_nonstatic_field(JavaFrameAnchor, _last_Java_fp, intptr_t*)
 705 
 706 #define VM_INT_CONSTANTS_CPU(declare_constant, declare_preprocessor_constant, declare_c1_constant, declare_c2_constant, declare_c2_preprocessor_constant) \
 707   declare_constant(VM_Version::CPU_FP)                  \
 708   declare_constant(VM_Version::CPU_ASIMD)               \
 709   declare_constant(VM_Version::CPU_EVTSTRM)             \
 710   declare_constant(VM_Version::CPU_AES)                 \
 711   declare_constant(VM_Version::CPU_PMULL)               \
 712   declare_constant(VM_Version::CPU_SHA1)                \
 713   declare_constant(VM_Version::CPU_SHA2)                \
 714   declare_constant(VM_Version::CPU_CRC32)               \
 715   declare_constant(VM_Version::CPU_LSE)                 \
 716   declare_constant(VM_Version::CPU_STXR_PREFETCH)       \
 717   declare_constant(VM_Version::CPU_A53MAC)              \
 718   declare_constant(VM_Version::CPU_DMB_ATOMICS)
 719 
 720 #endif
 721 
 722 
 723 #ifdef X86
 724 
 725 #define VM_STRUCTS_CPU(nonstatic_field, static_field, unchecked_nonstatic_field, volatile_nonstatic_field, nonproduct_nonstatic_field, c2_nonstatic_field, unchecked_c1_static_field, unchecked_c2_static_field) \
 726   volatile_nonstatic_field(JavaFrameAnchor, _last_Java_fp, intptr_t*) \
 727   static_field(VM_Version, _has_intel_jcc_erratum, bool)
 728 
 729 #define VM_INT_CONSTANTS_CPU(declare_constant, declare_preprocessor_constant, declare_c1_constant, declare_c2_constant, declare_c2_preprocessor_constant) \
 730   LP64_ONLY(declare_constant(frame::arg_reg_save_area_bytes))       \
 731   declare_constant(frame::interpreter_frame_sender_sp_offset)       \
 732   declare_constant(frame::interpreter_frame_last_sp_offset)         \
 733   declare_constant(VM_Version::CPU_CX8)                             \
 734   declare_constant(VM_Version::CPU_CMOV)                            \
 735   declare_constant(VM_Version::CPU_FXSR)                            \
 736   declare_constant(VM_Version::CPU_HT)                              \
 737   declare_constant(VM_Version::CPU_MMX)                             \
 738   declare_constant(VM_Version::CPU_3DNOW_PREFETCH)                  \
 739   declare_constant(VM_Version::CPU_SSE)                             \
 740   declare_constant(VM_Version::CPU_SSE2)                            \
 741   declare_constant(VM_Version::CPU_SSE3)                            \
 742   declare_constant(VM_Version::CPU_SSSE3)                           \
 743   declare_constant(VM_Version::CPU_SSE4A)                           \
 744   declare_constant(VM_Version::CPU_SSE4_1)                          \
 745   declare_constant(VM_Version::CPU_SSE4_2)                          \
 746   declare_constant(VM_Version::CPU_POPCNT)                          \
 747   declare_constant(VM_Version::CPU_LZCNT)                           \
 748   declare_constant(VM_Version::CPU_TSC)                             \
 749   declare_constant(VM_Version::CPU_TSCINV)                          \
 750   declare_constant(VM_Version::CPU_AVX)                             \
 751   declare_constant(VM_Version::CPU_AVX2)                            \
 752   declare_constant(VM_Version::CPU_AES)                             \
 753   declare_constant(VM_Version::CPU_ERMS)                            \
 754   declare_constant(VM_Version::CPU_CLMUL)                           \
 755   declare_constant(VM_Version::CPU_BMI1)                            \
 756   declare_constant(VM_Version::CPU_BMI2)                            \
 757   declare_constant(VM_Version::CPU_RTM)                             \
 758   declare_constant(VM_Version::CPU_ADX)                             \
 759   declare_constant(VM_Version::CPU_AVX512F)                         \
 760   declare_constant(VM_Version::CPU_AVX512DQ)                        \
 761   declare_constant(VM_Version::CPU_AVX512PF)                        \
 762   declare_constant(VM_Version::CPU_AVX512ER)                        \
 763   declare_constant(VM_Version::CPU_AVX512CD)
 764 
 765 #define VM_LONG_CONSTANTS_CPU(declare_constant, declare_preprocessor_constant, declare_c1_constant, declare_c2_constant, declare_c2_preprocessor_constant) \
 766   declare_preprocessor_constant("VM_Version::CPU_AVX512BW", CPU_AVX512BW) \
 767   declare_preprocessor_constant("VM_Version::CPU_AVX512VL", CPU_AVX512VL) \
 768   declare_preprocessor_constant("VM_Version::CPU_SHA", CPU_SHA)           \
 769   declare_preprocessor_constant("VM_Version::CPU_FMA", CPU_FMA)           \
 770   declare_preprocessor_constant("VM_Version::CPU_VZEROUPPER", CPU_VZEROUPPER)
 771 
 772 #endif
 773 
 774 
 775 #ifdef SPARC
 776 
 777 #define VM_STRUCTS_CPU(nonstatic_field, static_field, unchecked_nonstatic_field, volatile_nonstatic_field, nonproduct_nonstatic_field, c2_nonstatic_field, unchecked_c1_static_field, unchecked_c2_static_field) \
 778   volatile_nonstatic_field(JavaFrameAnchor, _flags, int)
 779 
 780 #define VM_INT_CONSTANTS_CPU(declare_constant, declare_preprocessor_constant, declare_c1_constant, declare_c2_constant, declare_c2_preprocessor_constant) \
 781   declare_constant(VM_Version::ISA_V9)                  \
 782   declare_constant(VM_Version::ISA_POPC)                \
 783   declare_constant(VM_Version::ISA_VIS1)                \
 784   declare_constant(VM_Version::ISA_VIS2)                \
 785   declare_constant(VM_Version::ISA_BLK_INIT)            \
 786   declare_constant(VM_Version::ISA_FMAF)                \
 787   declare_constant(VM_Version::ISA_VIS3)                \
 788   declare_constant(VM_Version::ISA_HPC)                 \
 789   declare_constant(VM_Version::ISA_IMA)                 \
 790   declare_constant(VM_Version::ISA_AES)                 \
 791   declare_constant(VM_Version::ISA_DES)                 \
 792   declare_constant(VM_Version::ISA_KASUMI)              \
 793   declare_constant(VM_Version::ISA_CAMELLIA)            \
 794   declare_constant(VM_Version::ISA_MD5)                 \
 795   declare_constant(VM_Version::ISA_SHA1)                \
 796   declare_constant(VM_Version::ISA_SHA256)              \
 797   declare_constant(VM_Version::ISA_SHA512)              \
 798   declare_constant(VM_Version::ISA_MPMUL)               \
 799   declare_constant(VM_Version::ISA_MONT)                \
 800   declare_constant(VM_Version::ISA_PAUSE)               \
 801   declare_constant(VM_Version::ISA_CBCOND)              \
 802   declare_constant(VM_Version::ISA_CRC32C)              \
 803   declare_constant(VM_Version::ISA_VIS3B)               \
 804   declare_constant(VM_Version::ISA_ADI)                 \
 805   declare_constant(VM_Version::ISA_SPARC5)              \
 806   declare_constant(VM_Version::ISA_MWAIT)               \
 807   declare_constant(VM_Version::ISA_XMPMUL)              \
 808   declare_constant(VM_Version::ISA_XMONT)               \
 809   declare_constant(VM_Version::ISA_PAUSE_NSEC)          \
 810   declare_constant(VM_Version::ISA_VAMASK)              \
 811   declare_constant(VM_Version::ISA_SPARC6)              \
 812   declare_constant(VM_Version::ISA_DICTUNP)             \
 813   declare_constant(VM_Version::ISA_FPCMPSHL)            \
 814   declare_constant(VM_Version::ISA_RLE)                 \
 815   declare_constant(VM_Version::ISA_SHA3)                \
 816   declare_constant(VM_Version::ISA_VIS3C)               \
 817   declare_constant(VM_Version::ISA_SPARC5B)             \
 818   declare_constant(VM_Version::ISA_MME)                 \
 819   declare_constant(VM_Version::CPU_FAST_IDIV)           \
 820   declare_constant(VM_Version::CPU_FAST_RDPC)           \
 821   declare_constant(VM_Version::CPU_FAST_BIS)            \
 822   declare_constant(VM_Version::CPU_FAST_LD)             \
 823   declare_constant(VM_Version::CPU_FAST_CMOVE)          \
 824   declare_constant(VM_Version::CPU_FAST_IND_BR)         \
 825   declare_constant(VM_Version::CPU_BLK_ZEROING)
 826 #endif
 827 
 828 
 829 /*
 830  * Dummy defines for architectures that don't use these.
 831  */
 832 #ifndef VM_STRUCTS_CPU
 833 #define VM_STRUCTS_CPU(nonstatic_field, static_field, unchecked_nonstatic_field, volatile_nonstatic_field, nonproduct_nonstatic_field, c2_nonstatic_field, unchecked_c1_static_field, unchecked_c2_static_field)
 834 #endif
 835 
 836 #ifndef VM_TYPES_CPU
 837 #define VM_TYPES_CPU(declare_type, declare_toplevel_type, declare_oop_type, declare_integer_type, declare_unsigned_integer_type, declare_c1_toplevel_type, declare_c2_type, declare_c2_toplevel_type)
 838 #endif
 839 
 840 #ifndef VM_INT_CONSTANTS_CPU
 841 #define VM_INT_CONSTANTS_CPU(declare_constant, declare_preprocessor_constant, declare_c1_constant, declare_c2_constant, declare_c2_preprocessor_constant)
 842 #endif
 843 
 844 #ifndef VM_LONG_CONSTANTS_CPU
 845 #define VM_LONG_CONSTANTS_CPU(declare_constant, declare_preprocessor_constant, declare_c1_constant, declare_c2_constant, declare_c2_preprocessor_constant)
 846 #endif
 847 
 848 #ifndef VM_STRUCTS_OS
 849 #define VM_STRUCTS_OS(nonstatic_field, static_field, unchecked_nonstatic_field, volatile_nonstatic_field, nonproduct_nonstatic_field, c2_nonstatic_field, unchecked_c1_static_field, unchecked_c2_static_field)
 850 #endif
 851 
 852 #ifndef VM_TYPES_OS
 853 #define VM_TYPES_OS(declare_type, declare_toplevel_type, declare_oop_type, declare_integer_type, declare_unsigned_integer_type, declare_c1_toplevel_type, declare_c2_type, declare_c2_toplevel_type)
 854 #endif
 855 
 856 #ifndef VM_INT_CONSTANTS_OS
 857 #define VM_INT_CONSTANTS_OS(declare_constant, declare_preprocessor_constant, declare_c1_constant, declare_c2_constant, declare_c2_preprocessor_constant)
 858 #endif
 859 
 860 #ifndef VM_LONG_CONSTANTS_OS
 861 #define VM_LONG_CONSTANTS_OS(declare_constant, declare_preprocessor_constant, declare_c1_constant, declare_c2_constant, declare_c2_preprocessor_constant)
 862 #endif
 863 
 864 #ifndef VM_ADDRESSES_OS
 865 #define VM_ADDRESSES_OS(declare_address, declare_preprocessor_address, declare_function)
 866 #endif
 867 
 868 
 869 //
 870 // Instantiation of VMStructEntries, VMTypeEntries and VMIntConstantEntries
 871 //
 872 
 873 // These initializers are allowed to access private fields in classes
 874 // as long as class VMStructs is a friend
 875 VMStructEntry JVMCIVMStructs::localHotSpotVMStructs[] = {
 876   VM_STRUCTS(GENERATE_NONSTATIC_VM_STRUCT_ENTRY,
 877              GENERATE_STATIC_VM_STRUCT_ENTRY,
 878              GENERATE_UNCHECKED_NONSTATIC_VM_STRUCT_ENTRY,
 879              GENERATE_NONSTATIC_VM_STRUCT_ENTRY)
 880 
 881   VM_STRUCTS_OS(GENERATE_NONSTATIC_VM_STRUCT_ENTRY,
 882                 GENERATE_STATIC_VM_STRUCT_ENTRY,
 883                 GENERATE_UNCHECKED_NONSTATIC_VM_STRUCT_ENTRY,
 884                 GENERATE_NONSTATIC_VM_STRUCT_ENTRY,
 885                 GENERATE_NONPRODUCT_NONSTATIC_VM_STRUCT_ENTRY,
 886                 GENERATE_C2_NONSTATIC_VM_STRUCT_ENTRY,
 887                 GENERATE_C1_UNCHECKED_STATIC_VM_STRUCT_ENTRY,
 888                 GENERATE_C2_UNCHECKED_STATIC_VM_STRUCT_ENTRY)
 889 
 890   VM_STRUCTS_CPU(GENERATE_NONSTATIC_VM_STRUCT_ENTRY,
 891                  GENERATE_STATIC_VM_STRUCT_ENTRY,
 892                  GENERATE_UNCHECKED_NONSTATIC_VM_STRUCT_ENTRY,
 893                  GENERATE_NONSTATIC_VM_STRUCT_ENTRY,
 894                  GENERATE_NONPRODUCT_NONSTATIC_VM_STRUCT_ENTRY,
 895                  GENERATE_C2_NONSTATIC_VM_STRUCT_ENTRY,
 896                  GENERATE_C1_UNCHECKED_STATIC_VM_STRUCT_ENTRY,
 897                  GENERATE_C2_UNCHECKED_STATIC_VM_STRUCT_ENTRY)
 898 
 899 #if INCLUDE_G1GC
 900   VM_STRUCTS_JVMCI_G1GC(GENERATE_NONSTATIC_VM_STRUCT_ENTRY,
 901                         GENERATE_STATIC_VM_STRUCT_ENTRY)
 902 #endif
 903 
 904   GENERATE_VM_STRUCT_LAST_ENTRY()
 905 };
 906 
 907 VMTypeEntry JVMCIVMStructs::localHotSpotVMTypes[] = {
 908   VM_TYPES(GENERATE_VM_TYPE_ENTRY,
 909            GENERATE_TOPLEVEL_VM_TYPE_ENTRY,
 910            GENERATE_INTEGER_VM_TYPE_ENTRY,
 911            GENERATE_UNSIGNED_INTEGER_VM_TYPE_ENTRY)
 912 
 913   VM_TYPES_OS(GENERATE_VM_TYPE_ENTRY,
 914               GENERATE_TOPLEVEL_VM_TYPE_ENTRY,
 915               GENERATE_OOP_VM_TYPE_ENTRY,
 916               GENERATE_INTEGER_VM_TYPE_ENTRY,
 917               GENERATE_UNSIGNED_INTEGER_VM_TYPE_ENTRY,
 918               GENERATE_C1_TOPLEVEL_VM_TYPE_ENTRY,
 919               GENERATE_C2_VM_TYPE_ENTRY,
 920               GENERATE_C2_TOPLEVEL_VM_TYPE_ENTRY)
 921 
 922   VM_TYPES_CPU(GENERATE_VM_TYPE_ENTRY,
 923                GENERATE_TOPLEVEL_VM_TYPE_ENTRY,
 924                GENERATE_OOP_VM_TYPE_ENTRY,
 925                GENERATE_INTEGER_VM_TYPE_ENTRY,
 926                GENERATE_UNSIGNED_INTEGER_VM_TYPE_ENTRY,
 927                GENERATE_C1_TOPLEVEL_VM_TYPE_ENTRY,
 928                GENERATE_C2_VM_TYPE_ENTRY,
 929                GENERATE_C2_TOPLEVEL_VM_TYPE_ENTRY)
 930 
 931   GENERATE_VM_TYPE_LAST_ENTRY()
 932 };
 933 
 934 VMIntConstantEntry JVMCIVMStructs::localHotSpotVMIntConstants[] = {
 935   VM_INT_CONSTANTS(GENERATE_VM_INT_CONSTANT_ENTRY,
 936                    GENERATE_VM_INT_CONSTANT_WITH_VALUE_ENTRY,
 937                    GENERATE_PREPROCESSOR_VM_INT_CONSTANT_ENTRY)
 938 
 939   VM_INT_CONSTANTS_OS(GENERATE_VM_INT_CONSTANT_ENTRY,
 940                       GENERATE_PREPROCESSOR_VM_INT_CONSTANT_ENTRY,
 941                       GENERATE_C1_VM_INT_CONSTANT_ENTRY,
 942                       GENERATE_C2_VM_INT_CONSTANT_ENTRY,
 943                       GENERATE_C2_PREPROCESSOR_VM_INT_CONSTANT_ENTRY)
 944 
 945   VM_INT_CONSTANTS_CPU(GENERATE_VM_INT_CONSTANT_ENTRY,
 946                        GENERATE_PREPROCESSOR_VM_INT_CONSTANT_ENTRY,
 947                        GENERATE_C1_VM_INT_CONSTANT_ENTRY,
 948                        GENERATE_C2_VM_INT_CONSTANT_ENTRY,
 949                        GENERATE_C2_PREPROCESSOR_VM_INT_CONSTANT_ENTRY)
 950 
 951 #if INCLUDE_G1GC
 952   VM_INT_CONSTANTS_JVMCI_G1GC(GENERATE_VM_INT_CONSTANT_ENTRY,
 953                               GENERATE_VM_INT_CONSTANT_WITH_VALUE_ENTRY,
 954                               GENERATE_PREPROCESSOR_VM_INT_CONSTANT_ENTRY)
 955 #endif
 956 
 957   GENERATE_VM_INT_CONSTANT_LAST_ENTRY()
 958 };
 959 
 960 VMLongConstantEntry JVMCIVMStructs::localHotSpotVMLongConstants[] = {
 961   VM_LONG_CONSTANTS(GENERATE_VM_LONG_CONSTANT_ENTRY,
 962                     GENERATE_PREPROCESSOR_VM_LONG_CONSTANT_ENTRY)
 963 
 964   VM_LONG_CONSTANTS_OS(GENERATE_VM_LONG_CONSTANT_ENTRY,
 965                        GENERATE_PREPROCESSOR_VM_LONG_CONSTANT_ENTRY,
 966                        GENERATE_C1_VM_LONG_CONSTANT_ENTRY,
 967                        GENERATE_C2_VM_LONG_CONSTANT_ENTRY,
 968                        GENERATE_C2_PREPROCESSOR_VM_LONG_CONSTANT_ENTRY)
 969 
 970   VM_LONG_CONSTANTS_CPU(GENERATE_VM_LONG_CONSTANT_ENTRY,
 971                         GENERATE_PREPROCESSOR_VM_LONG_CONSTANT_ENTRY,
 972                         GENERATE_C1_VM_LONG_CONSTANT_ENTRY,
 973                         GENERATE_C2_VM_LONG_CONSTANT_ENTRY,
 974                         GENERATE_C2_PREPROCESSOR_VM_LONG_CONSTANT_ENTRY)
 975 
 976   GENERATE_VM_LONG_CONSTANT_LAST_ENTRY()
 977 };
 978 
 979 VMAddressEntry JVMCIVMStructs::localHotSpotVMAddresses[] = {
 980   VM_ADDRESSES(GENERATE_VM_ADDRESS_ENTRY,
 981                GENERATE_PREPROCESSOR_VM_ADDRESS_ENTRY,
 982                GENERATE_VM_FUNCTION_ENTRY)
 983   VM_ADDRESSES_COMPILER_RUNTIME(GENERATE_VM_ADDRESS_ENTRY,
 984                GENERATE_PREPROCESSOR_VM_ADDRESS_ENTRY,
 985                GENERATE_VM_FUNCTION_ENTRY)
 986   VM_ADDRESSES_OS(GENERATE_VM_ADDRESS_ENTRY,
 987                   GENERATE_PREPROCESSOR_VM_ADDRESS_ENTRY,
 988                   GENERATE_VM_FUNCTION_ENTRY)
 989 
 990   GENERATE_VM_ADDRESS_LAST_ENTRY()
 991 };
 992 
 993 int JVMCIVMStructs::localHotSpotVMStructs_count() {
 994   // Ignore sentinel entry at the end
 995   return (sizeof(localHotSpotVMStructs) / sizeof(VMStructEntry)) - 1;
 996 }
 997 int JVMCIVMStructs::localHotSpotVMTypes_count() {
 998   // Ignore sentinel entry at the end
 999   return (sizeof(localHotSpotVMTypes) / sizeof(VMTypeEntry)) - 1;
1000 }
1001 int JVMCIVMStructs::localHotSpotVMIntConstants_count() {
1002   // Ignore sentinel entry at the end
1003   return (sizeof(localHotSpotVMIntConstants) / sizeof(VMIntConstantEntry)) - 1;
1004 }
1005 int JVMCIVMStructs::localHotSpotVMLongConstants_count() {
1006   // Ignore sentinel entry at the end
1007   return (sizeof(localHotSpotVMLongConstants) / sizeof(VMLongConstantEntry)) - 1;
1008 }
1009 int JVMCIVMStructs::localHotSpotVMAddresses_count() {
1010   // Ignore sentinel entry at the end
1011   return (sizeof(localHotSpotVMAddresses) / sizeof(VMAddressEntry)) - 1;
1012 }
1013 
1014 extern "C" {
1015 JNIEXPORT VMStructEntry* jvmciHotSpotVMStructs = JVMCIVMStructs::localHotSpotVMStructs;
1016 JNIEXPORT VMTypeEntry* jvmciHotSpotVMTypes = JVMCIVMStructs::localHotSpotVMTypes;
1017 JNIEXPORT VMIntConstantEntry* jvmciHotSpotVMIntConstants = JVMCIVMStructs::localHotSpotVMIntConstants;
1018 JNIEXPORT VMLongConstantEntry* jvmciHotSpotVMLongConstants = JVMCIVMStructs::localHotSpotVMLongConstants;
1019 JNIEXPORT VMAddressEntry* jvmciHotSpotVMAddresses = JVMCIVMStructs::localHotSpotVMAddresses;
1020 }
<a name="2" id="anc2"></a><b style="font-size: large; color: red">--- EOF ---</b>















































































</pre><form name="eof"><input name="value" value="2" type="hidden" /></form></body></html>
